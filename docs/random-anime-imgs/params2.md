---
outline: deep
---
# v2 说明文档

v2 的图片经过本人在 pixiv 的收藏转换而来，只存储图片元数据，本 API 仅储存了作品的基本信息，不提供图片的代理或储存服务。不存在自动爬取等敷衍的操作。
由于 pixiv 资源域名 `i.pximg.net` 具有防盗链措施，不含 `www.pixiv.net` referrer 的请求均会 403，所以如果需要直接在网页上展示或在客户端上直接下载必须依靠反代服务。可以在参数中添加反代服务。

## 请求链接

[https://moe.starfishdl.site/api/setu/v2](https://moe.starfishdl.site/api/setu/v2)

## 请求方法

`GET`

## 请求参数

| 参数名                 | 类型       | 默认值         | 说明                                                                                                                        |
| ---------------------- | ---------- | -------------- | --------------------------------------------------------------------------------------------------------------------------- |
| proxy                  | `string` | `i.pixiv.re` | [查看下文](#jump1)                                                                                                              |
| size                   | `enum`   | `original`   | 返回图片大小，由上到下逐步减小<br />`original: 原图`<br />`regular: 常规图`<br />`small: 小图`<br />`thumb: 缩略图` |
| json<br />`存在优化` | 0 or 1     | 0: 不返回 json | 是否返回 json 数据，json 数据包含了一定程度的图片元数据<br />`0: 否`<br />`1: 是`                                       |

## 参数说明

<span id="jump1" />

### `proxy`

由于P站资源域名 `i.pximg.net`具有防盗链措施，不含 `www.pixiv.net` referrer 的请求均会 403，所以如果需要直接在网页上展示或在客户端上直接下载必须依靠反代服务。

* 可以通过设置 `0` 或者 `null` 来获得图片的原始地址。
* 当不指定协议时，会自动补充 `https://`

以下两种方法等价：

```html
https://i.pixiv.re
i.pixiv.re
```
